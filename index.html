<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="format-detection" content="telephone=no" />
<meta name="format-detection" content="date=no" />
<meta name="format-detection" content="address=no" />
<meta name="format-detection" content="email=no" />
<title>ATON</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Averia+Gruesa+Libre&display=swap');
html { margin-left: 22pt; }
body { background-color: #f3c355; color: #332222; font-family: 'Averia Gruesa Libre'; font-size: 22pt; text-align: left; margin: 20 30 80 20; }
h1 { color: #bb1811; padding: 4pt; }
pre { font-family: 'Averia Gruesa Libre'; font-size: 80%; white-space: pre-wrap; word-wrap: break-word; }
</style>
</head>
<body>



<h1>ATON</h1>

<p>
AT Object Notation
</p>

<h3>example</h3>

<pre>
@[version] <2>
@[models] (
	{
		@[name] [my_transformation]
		@[description] [This model transforms raw data]
		@[database] [your_database]
		@[schema] [your_schema]
		@[materialized] [table]
		@[columns] (
			{
				@[name] [id]
				@[description] [A unique identifier]
				@[primary_key] &lt;true>
			}
			{
				@[name] [name]
				@description [The name of the item]
				@[primary_key] &lt;false>
			}
		)
		@[sql] [SELECT id, name FROM source_data]
	}
)
</pre>

<h3>example</h3>

<pre>
@[version] <2> @[models] ( { @[name] [my_transformation] @[description] [This model transforms raw data] @[database] [your_database] @[schema] [your_schema] @[materialized] [table] @[columns] ( { @[name] [id] @[description] [A unique identifier] } { @[name] [name] @[description] [The name of the item] } ) @[sql] [SELECT id, name FROM source_data] } )
</pre>


<h3>benefits over yaml</h3>
<pre>
- does not depend on new lines and indentations - the whole document can be one line
- type of any element is easily visible - <> for numeric and boolean, [] for strings
- [] brackets for strings instead of quotes
- a document is strictly always a mapping
- no commas needed to separate elements in lists and mappings - the only separator is space
- no colons needed for mappings (dictionaries) - a key is prefixed by @ and the value follows the key
</pre>


<h3>syntax</h3>
<pre>
document
	is always a mapping

mapping
	{ @[key1] [value1] @[key2] [value2] @[key3] <123> @[key4] ( <1> <2> ) }
	{ @[key a] [value 1] @[key b] [value 2] }
	{ @&lt;true> [value1] @&lt;false> [value2] }
	{ @<44> &lt;true> @<14> &lt;true> @<88> &lt;false> }

list
	( [value 1] value2 )
	( <1> <7> )

string
	[abc]
	[abc def]
	[123]
	[<123>]
	[true]
	[&lt;true>]
	[{ "some": "json" }]
	[every \] closing square bracket \] should be escaped \] to be a part of text]
	[backslashes \\ should be escaped \\ too]
	[opening [ square [ brackets [ are ok ]
	[multi
		line
			string]
	[-      prefix spaces/tabs/newlines removed
		suffix spaces/tabs/newlines removed
	-]
	[>
	one tab prefix removed from every string
	one tab prefix removed from every string
	]
	[>>
		two tabs prefix removed from every string
		two tabs prefix removed from every string
	]

numeric
	<1>
	<-2>
	<1.2>
	<1e5>
	<1h2m>
	<33mb>
	<22kb>
	&lt;true>
	&lt;false>

comment
	#[comment]
	#[few words comment]
	#[multi
		line
			comment]
	#<123>
	#&lt;false>
	#{ @[key1] [value1] @[key2] [value2] }
	#( [value1] [value2] )
</pre>


<pre>




</pre>

</body>
</html>


